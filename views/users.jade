extends layout

block gcsCss
	link(rel='stylesheet', href='/stylesheets/alertify.core.css')
	link(rel='stylesheet', href='/stylesheets/alertify.default.css')

block gcsNavbarItems
	ul.nav.navbar-nav
		//-li
			//-a(href="/")
				//-i.icon-home.icon-large
				//-|&nbsp;Home
		li
			a(href="/queueMonitor")
				i.icon-desktop.icon-large 
				|&nbsp;Colas
		li.active
			a(href="#")
				i.icon-user.icon-large 
				|&nbsp;Usuarios
		li
			a(href="/logout")
				i.icon-off.icon-large 
				|&nbsp;Cerrar Sesión 
		li
			a(data-toggle="modal" href="#helpModal")
				i.icon-question-sign.icon-large
				|&nbsp;Ayuda

block content
	div.user-admin-container
		div.user-list-container.queueHead
			ul.user-list-ul
				li.user-list-header
					span.user-field
						|Nombre
					span.user-field
						|Usuario
					span.user-field
						|Correo Electrónico
				<!-- ko foreach: users -->
				li.user-list-user(data-bind="click: markSelectedUser, css: {isSelected: id === $root.selectedUser().id}")
					span.user-field.user-list-name(data-bind="text: name")
						|&nbsp;--&nbsp;
					span.user-field.user-list-username(data-bind="text: username")
						|&nbsp;--&nbsp;
					span.user-field.user-list-email(data-bind="text: email")
				<!-- /ko -->
				li.user-list-controls
					span.user-list-control-add.gcsBtn(data-bind="click: newUser")
						i.icon-plus.icon-2x
		div.user-form-container.infoContainer(data-bind="with: selectedUser")
			h1(data-bind="visible: !id") Seleccionar un Usuario
			h1(data-bind="visible: id") Usuario:&nbsp;
				span(data-bind="visible: 'new' == id")
					|Nuevo
				span(data-bind="text: name")
			form#createUser(data-bind="visible: id" role="form")
				div.form-group.user-name
					label.control-label.col-md-5(for='name')
						|Nombre:
					div.col-md-7
						input.form-control(name='name', placeholder='Name' data-bind="value: name")
				div.form-group.user-username
					label.control-label.col-md-5(for='username')
						|Usuario:
					div.col-md-7
						input.form-control(name='username' placeholder='User' data-bind="value: username")
				div.form-group.user-password
					label.control-label.col-md-5(for='password')
						|Contraseña:
					div.col-md-7
						input.form-control(type='password' name='password' placeholder='Password' data-bind="value: password")
				div.form-group.user-email
					label.control-label.col-md-5(for='email')
						|Correo Electrónico:
					div.col-md-7
						input.form-control(type='email' name='email' placeholder='E-mail' data-bind="value: email")
				div.form-group.user-role
					label.control-label.col-md-5(for='role')
						|¿Es este un administrador?:
					div.col-md-7
						label.user-options No
							input(type='radio' name='role' value='0' data-bind="checked: role")
						label.user-options Sí
							input(type='radio' name='role' value='1' data-bind="checked: role")
				br
				div.form-group.user-controls
					div.col-md-4.col-md-offset-4
						a.gcsBtn#save(data-bind="click: saveUser")
							|Guardar
						a.gcsBtn#delete(data-bind="click: deleteUser")
							|Borrar
						a.gcsBtn#cancel(data-bind="click: clearSelectedUser")
							|Cancelar

block gcsScripts
	script(src="/javascripts/components/alertify.min.js")
	script(src="/javascripts/components/knockout-2.3.0.js")
	script(src="/javascripts/components/knockout.viewmodel.min.js")
	script(src="/javascripts/app/userAdmin.js")
